{% extends 'base.html' %}

{% block content %}
    <h1>Hey, it's Amin's own route</h1>
    <table>
        <thead>
            <tr>
                <th>Task ID</th>
                <th>Task Name</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr>
                <td>{{ task.id }}</td>
                <td>{{ task.task_title }}</td>
                <td>{{ task.status }}</td>
            </tr>
            {% else %}
            <tr><td>No tasks found.</td></tr>
            {% endfor %}
        </tbody>
    </table>

<a href="/tasks/new">Create new task</a>
<h1> Update Here: </h1>
<form action="{{ url_for('update_task') }}" method="post">
    <input type="hidden" name="_method" value="PUT">

    <label for="id">ID:</label>
    <input type="number" id="id" name="id">
    
    <label for="task_title">Title:</label>
    <input type="text" id="task_title" name="task_title">

    <label for="status">Status:</label>
    <input type="text" id="status" name="status">

    <label for="priority">Priority:</label>
    <input type="text" id="priority" name="priority">

    <label for="deadline">Deadline:</label>
    <input type="text" id="deadline" name="deadline">

    <input type="submit" value="Update Task">
</form>

<h1> Delete Here: </h1>
<form action="{{ url_for('delete_task') }}" method="post">
    <input type="hidden" name="_method" value="DELETE">

    <label for="id">ID:</label>
    <input type="number" id="id" name="id">

    <input type="submit" value="Delete Task">
</form>
{% endblock %}